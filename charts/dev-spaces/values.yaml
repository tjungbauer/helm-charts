---
devspaces_namespace: &devspaces_namespace "admin-devspaces"

##################################################
# Namespace Configuration
##################################################
namespace:
  # -- Create the namespace if it does not exist.
  # @default -- false
  create: true

  # -- Name of the namespace.
  # @default -- test-namespace
  name: *devspaces_namespace

##################################################
# Red Hat OpenShift Dev Spaces
# Configuration for CheCluster CR
##################################################

checluster:
  # -- Enable or disable the CheCluster resource.
  # @default -- false
  enabled: true

  # -- Name of the CheCluster resource.
  # @default -- devspaces
  name: devspaces

  # -- Namespace where Dev Spaces will be deployed.
  # @default -- openshift-devspaces
  namespace: *devspaces_namespace

  # -- Syncwave for ArgoCD to manage deployment order.
  # @default -- 3
  syncwave: '3'

  # -- Additional annotations to add to the CheCluster instance as key: value pairs.
  # @default -- {}
  additionalAnnotations: {}
  #  annotation1: "value1"

  # -- Additional labels to add to the CheCluster instance as key: value pairs.
  # @default -- {}
  additionalLabels: {}
  #  label1: "value1"

  ####################
  # Components Configuration
  ####################
  components:
    # -- General configuration settings related to the Che server.
    cheServer:
      # -- Enables the debug mode for Che server.
      # @default -- false
      debug: false

      # -- Log level for Che Server (DEBUG, INFO).
      # @default -- INFO
      logLevel: INFO

      # -- Additional ClusterRoles assigned to Che ServiceAccount. <br />
      # Each role must have a `app.kubernetes.io/part-of=che.eclipse.org` label. <br />
      # The defaults roles are: <br />
      # <ol>
      # <li>- `<che-namespace>-cheworkspaces-clusterrole`</li>
      # <li>- `<che-namespace>-cheworkspaces-namespaces-clusterrole`</li>
      # <li>- `<che-namespace>-cheworkspaces-devworkspace-clusterrole`</li>
      # </ol>
      # where the <che-namespace> is the namespace where the CheCluster CR is created. <br />
      # The Che Operator must already have all permissions in these ClusterRoles to grant them.
      # @default -- []
      clusterRoles: []
      #  - role-name

      # -- Deployment override options.
      deployment:
        # -- Tolerations for Che Server pods.
        # @default -- {}
        tolerations: {}
          # - effect: NoSchedule
          #   key: node-role
          #   operator: Equal
          #   value: devspaces

      # -- Proxy server settings for Kubernetes cluster. No additional configuration is required for OpenShift cluster.
      # By specifying these settings for the OpenShift cluster, you override the OpenShift proxy configuration.
      proxy:
        # -- The secret name that contains `user` and `password` for a proxy server.
        # The secret must have a `app.kubernetes.io/part-of=che.eclipse.org` label.
        # @default -- ''
        credentialsSecretName: ''

        # -- A list of hosts that can be reached directly, bypassing the proxy.<br />
        # Specify wild card domain use the following form `.<DOMAIN>`, for example:<br />
        # <ol>
        # <li>- localhost</li>
        # <li>- 127.0.0.1</li>
        # <li>- my.host.com</li>
        # <li>- 123.42.12.32</li>
        # </ol>
        # Use only when a proxy configuration is required. The Operator respects OpenShift cluster-wide proxy configuration,<br />
        # defining `nonProxyHosts` in a custom resource leads to merging non-proxy hosts lists from the cluster proxy configuration, and the ones defined in the custom resources.<br />
        # @default -- []
        nonProxyHosts: []
        #  - localhost
        #  - .cluster.local<br />

        # -- Proxy port.
        # @default -- ''
        port: ''

        # -- URL (protocol+hostname) of the proxy server.
        # Use only when a proxy configuration is required. The Operator respects OpenShift cluster-wide proxy configuration,
        # defining `url` in a custom resource leads to overriding the cluster proxy configuration.
        # @default -- ''
        url: ''

    # -- Configuration settings related to the dashboard used by the Che installation.
    dashboard:
      # -- The log level for the Dashboard. (can be DEBUG, INFO, WARN, ERROR, FATAL, TRACE, SILENT)
      # @default -- INFO
      logLevel: INFO

      # -- Dashboard branding resources.
      branding:
        # -- Dashboard logo.
        logo:
          # -- Base64-encoded logo data.
          # @default -- ''
          base64data: ''

          # -- Media type of the logo (e.g., image/png).
          # @default -- ''
          mediatype: ''

      # -- Deployment configuration for Dashboard
      deployment:
        # -- Tolerations for Dashboard pods.
        # @default -- {}
        tolerations: {}
          # - effect: NoSchedule
          #   key: node-role
          #   operator: Equal
          #   value: devspaces

      # -- Header message configuration
      headerMessage:
        # -- Instructs dashboard to show the message.
        # @default -- false
        show: false

        # -- Header message text.
        # @default -- ''
        text: ''

    # -- Configuration settings related to the devfile registry used by the Che installation.
    devfileRegistry:
      # -- Disable internal devfile registry.
      # @default -- false
      disableInternalRegistry: ''

      # -- Deployment configuration for Devfile Registry
      deployment:
        # -- Tolerations for Devfile Registry pods.
        # @default -- {}
        tolerations: {}
          # - effect: NoSchedule
          #   key: node-role
          #   operator: Equal
          #   value: devspaces

      # -- External devfile registries serving sample ready-to-use devfiles.
      # @default -- []
      externalDevfileRegistries: []
      #  - url: https://registry.devfile.io

    # -- Image Puller configuration
    imagePuller:
      # -- Enable Kubernetes Image Puller.
      # Install and configure the community supported Kubernetes Image Puller Operator. When you set the value to `true` without providing any specs,
      # it creates a default Kubernetes Image Puller object managed by the Operator.
      # When you set the value to `false`, the Kubernetes Image Puller object is deleted, and the Operator uninstalled,
      # regardless of whether a spec is provided.
      # If you leave the `spec.images` field empty, a set of recommended workspace-related images is automatically detected and
      # pre-pulled after installation.
      # Note that while this Operator and its behavior is community-supported, its payload may be commercially-supported
      # for pulling commercially-supported images.
      # @default -- false
      enable: false

      # -- A Kubernetes Image Puller spec to configure the image puller in the CheCluster.
      spec:
        # -- Node selector for image puller pods.
        # @default -- ''
        nodeSelector: ''

        # -- Image pull secrets.
        # @default -- ''
        imagePullSecrets: ''

        # -- ConfigMap name for image puller configuration.
        # @default -- ''
        configMapName: ''

        # -- CPU request for caching.
        # @default -- ''
        cachingCPURequest: ''

        # -- Affinity for image puller pods.
        # @default -- ''
        affinity: ''

        # -- Daemonset name for image puller.
        # @default -- ''
        daemonsetName: ''

        # -- Caching interval hours.
        # @default -- ''
        cachingIntervalHours: ''

        # -- Image puller image.
        # @default -- ''
        imagePullerImage: ''

        # -- Memory request for caching.
        # @default -- ''
        cachingMemoryRequest: ''

        # -- Deployment name for image puller.
        # @default -- ''
        deploymentName: ''

        # -- CPU limit for caching.
        # @default -- ''
        cachingCPULimit: ''

        # -- Images to pre-pull.
        # @default -- ''
        images: ''

        # -- Memory limit for caching.
        # @default -- ''
        cachingMemoryLimit: ''

    # -- Metrics configuration
    metrics:
      # -- Enables `metrics` for the Che server endpoint.
      # @default -- true
      enable: true

    # -- Configuration settings related to the plug-in registry used by the Che installation.
    pluginRegistry:
      # -- Disable internal plugin registry.
      # @default -- false
      disableInternalRegistry: ''

      # -- Open VSX registry URL. If omitted an embedded instance will be used.
      # @default -- https://open-vsx.org
      openVSXURL: 'https://open-vsx.org'

      # -- Deployment configuration for Plugin Registry
      deployment:
        # -- Tolerations for Plugin Registry pods.
        # @default -- {}
        tolerations: {}
          # - effect: NoSchedule
          #   key: node-role
          #   operator: Equal
          #   value: devspaces

      # -- External plugin registries.
      # @default -- []
      externalPluginRegistries: []
      #  - url: https://plugins.example.com

  ####################
  # Container Registry Configuration
  ####################
  containerRegistry:
    # -- An optional hostname or URL of an alternative container registry to pull images from.
    # @default -- ''
    hostname: ''

    # -- An optional repository name of an alternative registry to pull images from.
    # @default -- ''
    organization: ''

  ####################
  # Dev Environments Configuration
  ####################
  devEnvironments:
    # -- StartTimeoutSeconds determines the maximum duration (in seconds) that a workspace can take to start
    # before it is automatically failed.
    # If not specified, the default value of 300 seconds (5 minutes) is used.
    # @default -- 300
    startTimeoutSeconds: 300

    # -- Run timeout for workspaces in seconds.
    # This timeout is the maximum duration a workspace runs.
    # To disable workspace run timeout, set this value to -1.
    # @default -- -1
    secondsOfRunBeforeIdling: -1

    # -- Total number of workspaces, both stopped and running, that a user can keep.
    # The value, -1, allows users to keep an unlimited number of workspaces.
    # @default -- 1800
    secondsOfInactivityBeforeIdling: 1800

    # -- Pod scheduler for the workspace pods.
    # If not specified, the pod scheduler is set to the default scheduler on the cluster.
    # @default -- ''
    podSchedulerName: ''

    # -- Total number of workspaces, both stopped and running, that a user can keep.
    # The value, -1, allows users to keep an unlimited number of workspaces.
    # @default -- -1
    maxNumberOfWorkspacesPerUser: -1

    # -- The maximum number of running workspaces per user.
    # The value, -1, allows users to run an unlimited number of workspaces.
    # @default -- -1
    maxNumberOfRunningWorkspacesPerUser: -1

    # -- The maximum number of concurrently running workspaces across the entire Kubernetes cluster.
    # This applies to all users in the system. If the value is set to -1, it means there is
    # no limit on the number of running workspaces.
    # @default -- -1
    maxNumberOfRunningWorkspacesPerCluster: -1

    # -- The default editor to workspace create with. It could be a plugin ID or a URI.
    # The plugin ID must have `publisher/name/version` format.
    # The URI must start from `http://` or `https://`.
    # @default -- ''
    defaultEditor: ''

    # -- ImagePullPolicy defines the imagePullPolicy used for containers in a DevWorkspace.
    # (Always, IfNotPresent, Never).
    # @default -- IfNotPresent
    imagePullPolicy: IfNotPresent

    # -- Deployment strategy (Recreate, RollingUpdate).
    # DeploymentStrategy defines the deployment strategy to use to replace existing workspace pods
    # with new ones. The available deployment stragies are `Recreate` and `RollingUpdate`.
    # With the `Recreate` deployment strategy, the existing workspace pod is killed before the new one is created.
    # With the `RollingUpdate` deployment strategy, a new workspace pod is created and the existing workspace pod is deleted
    # only when the new workspace pod is in a ready state.
    # If not specified, the default `Recreate` deployment strategy is used.
    # @default -- Recreate
    deploymentStrategy: Recreate

    # -- Container build configuration
    containerBuildConfiguration:
      # --OpenShift security context constraint to build containers.
      # @default -- container-build
      openShiftSecurityContextConstraint: container-build

    # -- RuntimeClassName specifies the spec.runtimeClassName for workspace pods.
    # @default -- ''
    runtimeClassName: ''

    # -- Disables the container build capabilities.
    # @default -- false
    disableContainerBuildCapabilities: false

    # -- User configuration
    user:
      # -- Additional ClusterRoles assigned to the user.
      # The role must have `app.kubernetes.io/part-of=che.eclipse.org` label.
      # @default -- []
      clusterRoles: []
      #  - myrole

    # -- IgnoredUnrecoverableEvents defines a list of Kubernetes event names that should
    # be ignored when deciding to fail a workspace that is starting. This option should be used
    # if a transient cluster issue is triggering false-positives (for example, if
    # the cluster occasionally encounters FailedScheduling events). Events listed
    # here will not trigger workspace failures.
    # @default -- []
    ignoredUnrecoverableEvents: []
    #  - FailedScheduling

    # -- AllowedSources defines the allowed sources on which workspaces can be started.
    allowedSources:
      # -- List of allowed source URLs.
      # @default -- []
      urls: []
      #  - https://github.com/*

    # -- EditorsDownloadUrls provides a list of custom download URLs for JetBrains editors
    # in a local-to-remote flow.
    # It is particularly useful in disconnected or air-gapped environments,
    # where editors cannot be downloaded from the public internet.
    # Each entry contains an editor identifier in the `publisher/name/version` format
    # and the corresponding download URL.
    # Currently, this field is intended only for JetBrains editors and should not be used for other editor types.
    # @default -- []
    editorsDownloadUrls: []
    #  - editor: vscode
    #    url: https://download.url

    # -- List of ServiceAccount tokens that will be mounted into workspace pods as projected volumes.<br />
    # You can specify the following fields:<br />
    # <ol>
    # <li>- mountPath: The path within the workspace container at which the token should be mounted.</li>
    # <li>- name: The name of the ServiceAccount token.</li>
    # <li>- path: The path relative to the mount point of the file to project the token into.</li>
    # <li>- audience: OPTIONAL: The intended audience of the token.</li>
    # <li>- expirationSeconds: OPTIONAL: ExpirationSeconds is the requested duration of validity of the serviceaccount token. </li>
    # </ol>
    # @default -- []
    serviceAccountTokens: []
    #  - expirationSeconds: 3600
    #    mountPath: /var/run/secrets/tokens
    #    name: token-name
    #    path: token
    #    audience: https://kubernetes.default.svc

    # -- Configuration settings related to the workspaces networking.
    networking:
      # -- External TLS configuration
      externalTLSConfig:
        # -- Enabled determines whether external TLS configuration is used.
        # If set to true, the operator will not set TLS config for ingress/route objects.
        # Instead, it ensures that any custom TLS configuration will not be reverted on synchronization.
        # @default -- false
        enabled: false

    # -- Default components applied to DevWorkspaces.
    # These default components are meant to be used when a Devfile, that does not contain any components.
    # @default -- []
    defaultComponents: []
    #  - container:
    #      sourceMapping: /projects
    #    name: universal-developer-image

    # -- Trusted certificates configuration
    trustedCerts:
      # -- By default, the Operator creates and mounts the 'ca-certs-merged' ConfigMap <br />
      # containing the CA certificate bundle in users' workspaces at two locations: <br />
      # '/public-certs' and '/etc/pki/ca-trust/extracted/pem'. <br />
      # The '/etc/pki/ca-trust/extracted/pem' directory is where the system stores extracted CA certificates <br />
      # for trusted certificate authorities on Red Hat (e.g., CentOS, Fedora). <br />
      # This option disables mounting the CA bundle to the '/etc/pki/ca-trust/extracted/pem' directory <br />
      # while still mounting it to '/public-certs'.
      # @default -- false
      disableWorkspaceCaBundleMount: false

      # -- The ConfigMap contains certificates to propagate to the Che components and to provide a particular configuration for Git.
      # @default -- ''
      gitTrustedCertsConfigMapName: ''

    # -- ServiceAccount to use by the DevWorkspace operator when starting the workspaces.
    # @default -- ''
    serviceAccount: ''

    # -- Default namespace configuration
    defaultNamespace:
      # -- ndicates if is allowed to automatically create a user namespace.
      # If it set to false, then user namespace must be pre-created by a cluster administrator.
      # @default -- true
      autoProvision: true

      # -- If you don't create the user namespaces in advance, this field defines the Kubernetes namespace created when you start your first workspace.
      # You can use `<username>` and `<userid>` placeholders, such as che-workspace-<username>.
      # @default -- <username>-devspaces
      template: <username>-devspaces

    # -- Storage configuration
    storage:
      # -- Persistent volume claim strategy for the Che server.
      # The supported strategies are: `per-user` (all workspaces PVCs in one volume),
      # `per-workspace` (each workspace is given its own individual PVC)
      # and `ephemeral` (non-persistent storage where local changes will be lost when
      # the workspace is stopped.)
      # @default -- per-workspace
      pvcStrategy: per-workspace

      # -- Per-user strategy PVC configuration
      perUserStrategyPvcConfig:
        # -- Storage class for PVC.
        # @default -- ''
        storageClass: ''

        # -- PVC claim size.
        # @default -- ''
        claimSize: ''

        # -- Storage access modes.
        # @default -- []
        storageAccessMode: []
        #  - ReadWriteOnce

    # -- The pod tolerations of the workspace pods limit where the workspace pods can run.
    # @default -- {}
    tolerations: {}
      # - effect: NoSchedule
      #   key: node-role
      #   operator: Equal
      #   value: devspaces

    # -- Persist user home directory
    persistUserHome:
      # -- Enable persistent user home.
      # @default -- false
      enabled: false

      # -- Disable init container for persistent home.
      # @default -- false
      disableInitContainer: false

  ####################
  # Git Services Configuration
  ####################
  gitServices:
    # -- Azure DevOps configuration.
    # @default -- []
    azure: []
    #  - secretName: azure-oauth-secret

    # -- Bitbucket configuration.
    # @default -- []
    bitbucket: []
    #  - secretName: bitbucket-oauth-secret
    #    endpoint: https://bitbucket.org

    # -- GitHub configuration.
    # @default -- []
    github: []
    #  - secretName: github-oauth-secret
    #    endpoint: https://github.com
    #    disableSubdomainIsolation: false

    # -- GitLab configuration.
    # @default -- []
    gitlab: []
    #  - secretName: gitlab-oauth-secret
    #    endpoint: https://gitlab.com

  ####################
  # Networking Configuration
  ####################
  # -- Networking, Che authentication, and TLS configuration.
  networking:
    # -- DFor an OpenShift cluster, the Operator uses the domain to generate a hostname for the route.
    # @default -- ''
    domain: ''

    # -- The public hostname of the installed Che server.
    # @default -- ''
    hostname: ''

    # -- IngressClassName is the name of an IngressClass cluster resource.
    # If a class name is defined in both the `IngressClassName` field and the `kubernetes.io/ingress.class` annotation,
    # `IngressClassName` field takes precedence.
    # @default -- ''
    ingressClassName: ''

    # -- The name of the secret used to set up Ingress TLS termination.
    # If the field is an empty string, the default cluster certificate is used.
    # The secret must have a `app.kubernetes.io/part-of=che.eclipse.org` label.
    # @default -- ''
    tlsSecretName: ''

    # -- Authentication configuration
    auth:
      # -- Public URL of the Identity Provider server.
      # @default -- ''
      identityProviderURL: ''

      # -- Access token max age for tokens to set in the OpenShift `OAuthClient` resource used to set up identity federation on the OpenShift side.
      # @default -- ''
      oAuthClientName: ''

      # -- Name of the OpenShift `OAuthClient` resource used to set up identity federation on the OpenShift side.
      # @default -- ''
      oAuthScope: ''

      # -- Name of the secret set in the OpenShift `OAuthClient` resource used to set up identity federation on the OpenShift side.
      # @default -- ''
      oAuthSecret: ''

      # -- Inactivity timeout for tokens to set in the OpenShift `OAuthClient` resource used to set up identity federation on the OpenShift side.
      # 0 means tokens for this client never time out.
      # @default -- ''
      oAuthAccessTokenMaxAgeSeconds: ''

      # -- OAuth access token inactivity timeout in seconds.
      # @default -- ''
      oAuthAccessTokenInactivityTimeoutSeconds: ''

      # -- Gateway configuration
      gateway:
        # -- Deployment override options.<br />
        # Since gateway deployment consists of several containers, they must be distinguished in the configuration by their names:<br />
        # <ol>
        # <li>- `gateway`</li>
        # <li>- `configbump`</li>
        # <li>- `oauth-proxy`</li>
        # <li>- `kube-rbac-proxy`</li>
        # </ol>
        deployment:
          # -- Tolerations for gateway pods.
          # @default -- {}
          tolerations: {}

        # -- Configuration for kube-rbac-proxy within the Che gateway pod.
        kubeRbacProxy:
          # -- The glog log level for the kube-rbac-proxy container within the gateway pod. <br />
          # Larger values represent a higher verbosity. The default value is `0`.
          # @default -- 0
          logLevel: 0

        # -- Configuration for oauth-proxy within the Che gateway pod.
        oAuthProxy:
          # -- Expire timeframe for cookie. If set to 0, cookie becomes a session-cookie which will expire when the browser is closed.
          # @default -- 86400
          cookieExpireSeconds: 86400

        # -- Configuration for traefik within the Che gateway pod.
        traefik:
          # -- The log level for the Traefik container within the gateway pod: <br />
          # `DEBUG`, `INFO`, `WARN`, `ERROR`, `FATAL`, or `PANIC`. The default value is `INFO`
          # @default -- INFO
          logLevel: INFO

      # -- Advanced authorization configuration
      advancedAuthorization:
        # -- List of groups that are allowed to access the Che server.
        # @default -- []
        allowGroups: []

        # -- List of users that are allowed to access the Che server.
        # @default -- []
        allowUsers: []

        # -- List of groups that are denied to access the Che server.
        # @default -- []
        denyGroups: []

        # -- List of users that are denied to access the Che server.
        # @default -- []
        denyUsers: []
